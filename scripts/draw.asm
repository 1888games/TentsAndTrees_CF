

;//-----------;//
;// Draw Tile ;//
;//-----------;//

;// draw an 8x8 tile from a data pointer
;// r1 = color 1
;// r2 = color 2
;// r3 = x (to screen)
;// r4 = y (to screen)
;// r5 = tile number
DrawTile:
	;// registers reference:
	;// r1 = reserved (plot color)
	;// r2 = reserved (plot x)
	;// r3 = reserved (plot y)
	;// r4 = color 1
	;// r5 = color 2
	;// r6 = x
	;// r7 = y
	;// r8 = loop1 (row)
	;// r9 = loop2 (column)
	;// r10 = bitmask
	;// r11 = graphics byte

	;// save the return address
	;//lr	K, P
	;//pi	pushk

	;// get the tile address
	dci	tiles
	;// add the offset
	lr	A, 5
	inc							;// make sure we hit 0
	lr	0, A
	lis	2						;// three bytes for each tile
.drawTileAddressLoop:
	ds	0
	bz	.drawTileAddressLoopEnd
	adc
	br	.drawTileAddressLoop
.drawTileAddressLoopEnd:
	;// got the tile data, now get the graphics address
	lm
	lr	Qu, A
	lm
	lr	Ql, A
	lr	DC, Q

	;// load the width and height
	li	5
	lr	5, A
	li 	5
	lr	6, A

.drawTileBlit:
	;// draw the tile itself
	jmp	blit




	



;---------------------------------------------------------------------------
;   trees.bmp
;---------------------------------------------------------------------------

gfx.bitmap.bmp.parameters:
		.byte	Red		; color 1 (clear/bkg/blue/red/green)
		.byte	Transparent			; color 2 (clear/bkg/blue/red/green)
		.byte	11		; x position
		.byte	0			; y position
		.byte	80			; width
		.byte	58			; height
		.word	gfx.bitmap.bmp.data



gfx.bitmap.bmp.data:
		.byte	%11111111, %11111111, %11111111, %11111111, %11111111, %11111111, %11111111
		.byte	%11111111, %11111111, %11111111, %11111111, %11111111, %11110110, %00101110
		.byte	%11001000, %10010001, %11001000, %10010111, %11111111, %11111111, %11111111
		.byte	%11111111, %11101010, %10101101, %01011010, %10111011, %11101010, %11010111
		.byte	%11111111, %11111111, %11111111, %11111111, %11100010, %01101100, %01001010
		.byte	%10011011, %11001010, %10010111, %11111111, %11111111, %11111111, %11111111
		.byte	%11101010, %10101101, %01101010, %10111011, %11011010, %10110111, %11111111
		.byte	%11111111, %11111111, %11111111, %11101010, %10100101, %01001000, %10111011
		.byte	%11001000, %10010111, %11111111, %11111111, %11111111, %11111111, %11111111
		.byte	%11111111, %11111111, %11111111, %11111111, %11111111, %11111111, %11111111
		.byte	%11111111, %11111111, %11111111, %11111111, %11111100, %11111111, %11111111
		.byte	%11111111, %11111111, %11111111, %11111111, %11111111, %11111011, %11111111
		.byte	%11110000, %01111111, %11111111, %11111111, %11111111, %11111111, %11111111
		.byte	%11111111, %11111011, %11111111, %11111001, %01111111, %11111111, %11111111
		.byte	%11111111, %11111111, %11111111, %11111111, %11110001, %11111111, %11111000
		.byte	%01111111, %11111111, %11111111, %11111111, %11111111, %11111111, %11111111
		.byte	%11110011, %11111111, %11111100, %11111111, %11111111, %11111111, %11111111
		.byte	%11111111, %11111111, %11111111, %11110001, %11111111, %11111100, %11111111
		.byte	%11111111, %11111111, %11111111, %11111111, %11111111, %11111111, %11100011
		.byte	%11111111, %11111100, %11111111, %11111111, %01111111, %11111111, %11111111
		.byte	%11111111, %11111111, %11100001, %11111111, %11111100, %11111111, %11111111
		.byte	%00111111, %11111111, %11111111, %11111111, %11111111, %11100000, %11111111
		.byte	%11111000, %11111111, %11111111, %00111111, %11111111, %11111111, %11111111
		.byte	%11111111, %11100011, %11111111, %11111011, %01111111, %11111110, %00011111
		.byte	%11111111, %11111111, %11111111, %11111111, %11100001, %11111111, %11111011
		.byte	%01111111, %11111110, %00011111, %11111111, %11111111, %11111111, %11111111
		.byte	%11100000, %11110111, %11110011, %00111111, %11111110, %00111111, %11111111
		.byte	%11111111, %11111111, %11111111, %11000001, %01110111, %11110011, %00111110
		.byte	%01111100, %00011111, %11111111, %11111111, %11111111, %11111111, %10100001
		.byte	%11110111, %11100111, %10011100, %01111110, %00001111, %11111111, %11111111
		.byte	%11111111, %11111111, %11100101, %11110011, %11100111, %10011110, %00111100
		.byte	%00011111, %11111111, %11111111, %11111111, %11111111, %11000000, %11110011
		.byte	%11101111, %11011110, %01111100, %01001111, %11111111, %11111111, %11111111
		.byte	%11111111, %11000000, %11100011, %11001111, %11001101, %00110000, %00001111
		.byte	%11111111, %11111111, %11111111, %11111111, %10000000, %01100011, %11011110
		.byte	%01101110, %01100000, %00000111, %11111111, %11111111, %11111111, %11111111
		.byte	%00000000, %00100001, %10001110, %11000100, %00111000, %01001111, %11111111
		.byte	%11111111, %11111111, %11111111, %01100001, %11100001, %10011110, %11110000
		.byte	%01000000, %00001111, %11111111, %11111111, %11111111, %11111111, %11000001
		.byte	%11000011, %10011100, %11100100, %00111000, %00000111, %11111111, %11111111
		.byte	%11111111, %11111111, %10000000, %01000001, %00111100, %11110000, %00000000
		.byte	%00000111, %11111111, %11111111, %11111111, %11111111, %11100000, %10000001
		.byte	%00011100, %11100000, %00100000, %00010111, %11111111, %11111111, %11111111
		.byte	%11111111, %11000000, %10000000, %01111000, %11111000, %00010000, %10000011
		.byte	%11111111, %11111111, %11111111, %11111111, %10000000, %11000000, %01111011
		.byte	%01111000, %00010001, %00000001, %11111111, %11111111, %11111111, %11111111
		.byte	%00000001, %00000000, %01111011, %01111000, %00100000, %10000001, %11111111
		.byte	%11111111, %11111111, %11111110, %00000000, %10000000, %01110100, %10111000
		.byte	%00010000, %00010011, %11111111, %11111111, %11111111, %11111101, %10010000
		.byte	%01000000, %11110100, %10111100, %00001000, %00110001, %11111111, %11111111
		.byte	%11111111, %11111111, %00100000, %10000000, %11110100, %10011100, %00001010
		.byte	%00010001, %11111111, %11111111, %11111111, %11111110, %00000001, %00000001
		.byte	%11101000, %01011110, %00000110, %00000000, %11111111, %11111111, %11111111
		.byte	%11111100, %00000000, %10000000, %11101000, %01011100, %00000100, %00000000
		.byte	%11111111, %11111111, %11111111, %11111110, %00000000, %01000011, %11001000
		.byte	%00101111, %00000100, %00001000, %11111111, %11111111, %11111111, %11111111
		.byte	%01100100, %10000001, %11010000, %00101110, %00001000, %00000000, %11111111
		.byte	%11111111, %11111111, %11111111, %11110011, %10000011, %11010000, %00010111
		.byte	%00001110, %00000011, %11111111, %11111111, %11111111, %11111111, %11110011
		.byte	%00000111, %10010000, %00010111, %10000011, %01111111, %11111111, %11111111
		.byte	%11111111, %11111111, %11110011, %11000011, %10100000, %00010111, %00011111
		.byte	%01111111, %11111111, %11111111, %11111111, %11111111, %11110011, %11100111
		.byte	%10100000, %00001011, %10001111, %01111111, %11111111, %11111111, %11111111
		.byte	%11111111, %11110011, %11000111, %01000000, %00001011, %10001111, %01111111
		.byte	%11111111, %11111111, %11111111, %11111111, %11110011, %11000000, %00000000
		.byte	%00000000, %00001110, %01111111, %11111111, %11111111, %11111111, %11111111
		.byte	%11110000, %00000000, %00000000, %00000000, %00000000, %00000000, %00111111
		.byte	%11111111, %11111111, %11111110, %00000000, %00000010, %00000011, %11011110
		.byte	%00000100, %00001111, %11111111, %11111111, %11111111, %11111111, %11111111
		.byte	%11111111, %11111111, %11111111, %11111111, %11111111, %11111111, %11111111
		.byte	%11111111, %11111111, %11111111, %11111111, %11111111, %11111111, %11111111
		.byte	%11111111, %11111111, %11111111, %11111111, %11111100, %00000000, %00000000
		.byte	%00000000, %00000000, %00000000, %00000000, %00011111, %11111111, %11111111
		.byte	%11111001, %11011010, %01011101, %10000100, %10010110, %00111011, %00110110
		.byte	%11001111, %11111111, %11111111, %11111000, %10010011, %01001001, %00001010
		.byte	%11010101, %00010010, %10100100, %10001111, %11111111, %11111111, %11111000
		.byte	%10011010, %11001001, %10001110, %10110101, %00010011, %00110110, %11001111
		.byte	%11111111, %11111111, %11111000, %10010010, %01001000, %10001010, %10010101
		.byte	%00010010, %10100100, %01001111, %11111111, %11111111, %11111000, %10011010
		.byte	%01001001, %10001010, %10010110, %00010010, %10110110, %11001111, %11111111
		.byte	%11111111, %11111100, %00000000, %00000000, %00000000, %00000000, %00000000
		.byte	%00000000, %00011111, %11111111, %11111111, %11111111, %11111111, %11111111
		.byte	%11111111, %11111111, %11111111, %11111111, %11111111, %11111111